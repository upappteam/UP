{% extends "base.html" %}

{% block title %}
    Home
{% endblock %}

{% block article %}
    <article>
        <header>
            <h1>Hello {{ name }}</h1>
        </header>
        <div class="container">
            <p>Number of your subset is: {{ count_sub }}</p>
            <p>Number of your upline is: {{ count_up }}</p>
            <br>
        </div>
        <div class="container">
            <a href="{{ url_for('messages.new_post_pv') }}"><button class="btn btn-success">New message</button></a>
            <br>
        </div>
        <div class="container">
            <br>
            <a href="{{ url_for('users.change_password', user_id=user_id) }}"><button class="btn btn-success">Change password</button></a>
            <br>
        </div>
        <div class="container">
            <br>
            <a href="{{ url_for('posts.view_sent_posts', user_id=user_id) }}"><button class="btn btn-success">View sent posts</button></a>
            <br>
        </div>
        <div>
            <br>
            <a href="{{ url_for('posts.new_post', user_id=user_id) }}"><button class="btn btn-success">New post</button></a>
            <br>
        </div>
        <div>
            <br>
            <a href="{{ url_for('posts.view_public_posts') }}"><button class="btn btn-success">View public posts</button></a>
            <br>
        </div>
        <div>
            <br>
            <a href="{{ url_for('messages.inbox', user_id=user_id) }}"><button class="btn btn-success">Inbox</button></a>
            <br>
        </div>
        <div>
            <br>
            <a href="{{ url_for('messages.outbox', user_id=user_id) }}"><button class="btn btn-success">Outbox</button></a>
            <br>
        </div>
        {% if sub %}
            {% if sub|length > 0 %}
                <div class="container">
                    <h4>Your subset are:</h4>
                </div>
                <div class="container">
                    {% for user in sub %}
                        <p>
                            Name: {{ user["name"] }}
                            <br>
                            Family: {{ user["family"] }}
                            <br>
                            Phone number: {{ user["phone_number"] }}
                            <br>
                            Upline phone number: {{ user["upline_phone_number"] }}

                        </p>
                        <hr>
                    {% endfor %}
                </div>
            {% else %}
                <p>You have not subset yet!</p>
                <p>You have not upline!</p>
            {% endif %}
        {% else %}
            <p>You have not subset yet!</p>
        {% endif %}
    </article>
{% endblock %}

{% block aside %}
    <aside>
        {% if up %}
            {% if up|length > 0 %}
                <div class="container">
                    <h4>Your uplines are:</h4>
                </div>
                <div class="container">
                    {% for user in up %}
                        <p>
                            Name: {{ user["name"] }}
                            <br>
                            Family: {{ user["family"] }}
                            <br>
                            Phone number: {{ user["phone_number"] }}
                            <br>
                            Upline phone number: {{ user["upline_phone_number"] }}

                        </p>
                        <hr>
                    {% endfor %}
                    <p>Your level is {{ count_up }}</p>
                </div>
            {% else %}
                <div class="container">
                    <p>You are <strong>HEAD MASTER</strong></p>
                    <p>Your level is {{ count_up }}</p>
                </div>
            {% endif %}
        {% else %}
            <div class="container">
                <p>You are <strong>HEAD MASTER</strong></p>
                <p>Your level is {{ count_up }}</p>
            </div>
        {% endif %}
    </aside>
{% endblock %}