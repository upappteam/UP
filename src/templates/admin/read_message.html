{% extends "admin/home.html" %}

{% block title %}
    Admin read message
{% endblock %}

{% block article %}
    <article>
        <ul class="nav nav-tabs">
            <li role="presentation"><a href="{{ url_for('admins.admin_home') }}">Home</a></li>
            <li role="presentation"><a href="{{ url_for('admins.admin_users') }}">Users</a></li>
            <li role="presentation"><a href="{{ url_for('admins.admin_posts') }}">Posts</a></li>
            <li role="presentation"><a href="{{ url_for('admins.admin_send_message') }}">Send message</a></li>
            <li role="presentation" class="active"><a href="{{ url_for('admins.admin_read_message') }}">Read message</a></li>
        </ul>
        <section>
            <br>
            <br>
            <br>
            {% if posts %}
                <h3><strong>Post info:</strong></h3>
                {% if posts|length == 1 %}
                    <div class="container">
                        <h3><strong>Post info:</strong></h3>
                        <p><strong>Author:</strong> {{ posts[0].user_email }}</p>
                        <p><strong>Title:</strong> {{ posts[0].subject }}</p>
                        <p><strong>Content:</strong> {{ posts[0].content }}</p>
                        <p><strong>Sent to:</strong> {{ posts[0].to }}</p>
                        <p><strong>Type publication:</strong> {{ posts[0].type_publication }}</p>
                        <p><strong>Published date:</strong> {{ posts[0].publish_date }}</p>
                        <p><strong>Post ID:</strong> {{ posts[0]._id }}</p>
                        <hr>
                    </div>
                {% elif posts|length > 1 %}
                    {% for post in posts %}
                        <div class="container">
                            <p><strong>Author:</strong> {{ post.user_email }}</p>
                            <p><strong>Title:</strong> {{ post.subject }}</p>
                            <p><strong>Content:</strong> {{ post.content }}</p>
                            <p><strong>Sent to:</strong> {{ post.to }}</p>
                            <p><strong>Type publication:</strong> {{ post.type_publication }}</p>
                            <p><strong>Published date:</strong> {{ post.publish_date }}</p>
                            <p><strong>Post ID:</strong> {{ post._id }}</p>
                            <hr>
                        </div>
                    {% endfor %}
                {% endif %}
            {% else %}
                <div class="container">
                    <p><strong>There is no sent message for admins.</strong></p>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                </div>
            {% endif %}
        </section>
    </article>
{% endblock %}
